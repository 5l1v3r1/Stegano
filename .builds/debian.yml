image: debian/sid
sources:
  - https://git.sr.ht/~cedric/Stegano
packages:
  - python3
  - python3-dev
  - python3-pip
tasks:
  - test: |
      pip3 install pipenv
      PATH=$PATH:/home/build/.local/bin
      cd Stegano
      pipenv install
      pipenv install --dev
      pipenv run nosetests --with-coverage --cover-package=stegano
  - typecheck: |
      pipenv run python tools/run_mypy.py  
